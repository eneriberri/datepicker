<div class="row-fluid">
  <div class="span12">
    <h1>
      dropdown
    </h1>
    <div class="wah"></div>
    <hr />
  </div>
</div>


<div class="menu-item">Hello world.</div>


<div class="dropdown">
  <a data-toggle="dropdown" href="#">Dropdown trigger</a>
<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" >
  <!-- <li><a href="#">Item 1</a></li>
  <li><a href="#">Item 2</a></li>
  <li class="divider"></li>
  
  <li class="dropdown-submenu">
    <a href="#">Item 3</a> 
    <ul class="dropdown-menu">
      <li><a href="#">Sub 1</a></li>
      <li><a href="#">Sub 2</a></li>
      
      <li class="dropdown-submenu">
        <a href="#">Sub 3</a>
        <ul class="dropdown-menu">
          <li><a href="#">SubSub 1</a></li>
          <li><a href="#">SubSub 2</a></li>
          <li><a href="#">SubSub 3</a></li>
        </ul>
      </li>

    </ul>
  </li> -->
</ul>

</div>





<% provide :page_specific_javascripts do %>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
  <script>
    var MENU = [
      {
        'title': 'Item 1',
        'submenu': null,
      },
      {
        'title': 'Item 2',
        'submenu': null,
      },
      {
        'title': 'Item 3',
        'submenu': [
          {
            'title': 'Sub 1',
            'submenu': null,
          },
          {
            'title': 'Sub 2',
            'submenu': null,
          },
          {
            'title': 'Sub 3',
            'submenu': [
              {
                'title': 'SubSub 1',
                'submenu': null,
              },
              {
                'title': 'SubSub 2',
                'submenu': null,
              },
              {
                'title': 'SubSub 3',
                'submenu': null,
              },
            ]
          }
        ]
      }
    ];
    
    
    
    
    $(function () {
    
      var printMenu = function(menu, parent) {
        for(var i = 0, n = menu.length; i < n; i++) {
          var menuItem = menu[i]['title'];
          var id = menuItem.split(" ").join("");
    
          if(menu[i]['submenu'] === null) {
            $(parent).append('<li><a href="">'+menuItem+'</a></li>');
          }          
          else {
            $(parent).append('<li class="divider"></li>');
            $(parent).append('<li class="dropdown-submenu" id="'+id+'">');
            var newParent = 'li#' + id;
            $(newParent).append('<a href="">'+menuItem+'</a>');
            $(newParent).append('<ul class="dropdown-menu" id="'+id+'">');
            
            //recursive call
            printMenu(menu[i]['submenu'], "ul#"+id);
            $(newParent).append('</ul>');
            $(newParent).append('</li>');
          }
        }
    
      }
    
      printMenu(MENU, $('.dropdown-menu'));
    });
    
    
    
    
    

    // $(function () {
  //   
  //     var printMenu = function(menu, parent) {
  //       for(var i = 0, n = menu.length; i < n; i++) {
  //         var menuItem = menu[i]['title'];
  //         var id = menuItem.split(" ").join("");
  // 
  //         if(menu[i]['submenu'] === null) {
  //           $(parent).append('<a href="">'+menuItem+'</a>');
  //         }          
  //         else {
  //           var newParent = '<a href="" id="'+id+'">'+menuItem+
  //           '<b class="caret"></b></a>';
  //           $(parent).append(newParent);
  //           printMenu(menu[i]['submenu'], "#"+id);
  //         }
  //       }
  // 
  //     }
  // 
  //     printMenu(MENU, $('.dropdown'));
  //   });
  </script>
<% end %>